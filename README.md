# KT_Aivle_MINI6
# 🏬 1) 유통량 판매량 예측 및 재고 최적화 프로젝트

## 📌 프로젝트 개요
본 프로젝트는 **유통 매장에서의 상품별 판매량 예측 및 재고 최적화**를 목표로 합니다.  
AI 기반의 시계열 예측 모델을 사용하여 **적절한 재고 수준을 유지하고, 재고 부족 및 과잉 문제를 해결**합니다.

### 🚀 **배경 및 필요성**
- 미국 전역에 매장을 운영하는 유통회사 K-Mart에서 **재고 부족 및 과재고 문제** 발생
- 기존 발주 시스템을 사용했으나 여전히 **효율적인 재고 관리에 어려움**
- **AI 기반 판매량 예측 시스템**을 통해 최적화된 재고 관리를 수행

### 🎯 **프로젝트 목표**
1. **상품별 판매량 예측**을 통해 최적의 재고 수준 유지
2. **리드타임(입고까지 걸리는 시간)을 고려한 발주 시스템 구축**
3. **비즈니스 평가 지표(일 평균 재고 금액 등)를 기반으로 성능 검증**

---

## 📂 데이터셋 소개
본 프로젝트에서 사용된 데이터는 **K-Mart의 유통 데이터를 기반으로 생성**되었습니다.

### **📊 주요 데이터 파일**
| 파일명 | 설명 |
|--------|------|
| `sales_train.csv` | 학습 및 검증용 판매 데이터 |
| `sales_test.csv` | 테스트용 판매 데이터 |
| `orders_train.csv` | 학습 및 검증용 고객 방문 데이터 |
| `orders_test.csv` | 테스트용 고객 방문 데이터 |
| `oil_price_train.csv` | 학습 및 검증용 유가 데이터 |
| `oil_price_test.csv` | 테스트용 유가 데이터 |
| `products.csv` | 상품 기본 정보 (가격, 리드타임 등) |
| `stores.csv` | 매장 기본 정보 (위치, 크기 등) |
---

## 📌 프로젝트 요구사항

### **🎯 목표**
- 특정 매장(`Store_ID=44`)의 **핵심 상품 3개**에 대한 수요량을 예측
- 예측값을 활용하여 **효율적인 발주 시스템 구축**
- **비즈니스 평가 지표(일 평균 재고 금액) 기반으로 모델 검증**

### **📦 핵심 상품 3개**
| Product_ID | Product_Code | 카테고리 |
|------------|-------------|----------|
| 3 | DB001 | Beverage (Drink) |
| 12 | GA001 | Milk (Food) |
| 42 | FM001 | Agricultural products (Grocery) |

### **📊 평가 기준**
- **일 평균 재고 금액 계산**
- 일 평균 재고 금액 = (일 기초 재고 + 일 기말 재고) / 2 * (판매가 50%)

- **기회 손실 수량 최소화**  
→ 재고 부족으로 인해 판매하지 못하는 손실 최소화
- **평가 기간: 2017-03-01 ~ 2017-03-31**

---

## 🔍 문제 해결 과정

### 1️⃣ **데이터 탐색 및 가설 도출**
- 시계열 패턴 분석 → 라인차트 활용하여 판매량 추세 파악
- 유가 변동이 고객 방문 및 판매량에 미치는 영향 분석
- 지역별 고객 방문 수와 판매량의 상관관계 검토

### 2️⃣ **데이터 전처리**
- 결측치(NaN) 처리  
- 가변수화 (One-hot encoding)  
- 데이터 정규화 (Min-Max Scaling)  
- 데이터 분할: **검증셋(Validation set) = 마지막 60일 데이터**

### 3️⃣ **모델링 및 성능 평가**
#### **🔹 Baseline 모델**
- **Dense Layer 1개**로 기본 모델 구성
- 검증 성능 지표: **RMSE, MAE, MAPE, R² Score**

#### **🔹 LSTM 기반 모델**
- **LSTM Layer 1개 + Dense Layer 1개**로 시계열 모델 생성
- `Time step` 수를 조정하여 최적 성능 도출

#### **🔹 CNN 1D 기반 모델**
- CNN 1D Layer 활용하여 시계열 예측 성능 개선

#### **📌 최종 모델 평가**
- 성능 비교 후 상위 2~3개 모델 선정
- **테스트 데이터 적용 및 비즈니스 평가 수행**

### 4️⃣ **비즈니스 평가 및 최적화**
- 재고량 평가 시뮬레이션 (`inv_simulator` 함수 활용)
- **안전 재고 값을 조정하여 기회 손실 최소화**
- **예측 모델 성능이 좋을수록 적은 안전 재고로도 손실 방지 가능**

---

# 🚑 2) 응급상황 자동 인식 및 응급실 연계 서비스

## 📌 프로젝트 개요
본 프로젝트는 **응급 전화를 통한 음성 인식 및 요약, 응급 상황 등급 분류, 응급실 추천**을 자동화하는 **AI 기반 응급 대응 서비스**입니다.  
**Whisper, BERT, OpenAI GPT, 네이버 지도 API** 등을 활용하여 응급 상황을 신속하게 판단하고 **최적의 응급실을 추천**합니다.

### 🎯 **프로젝트 목표**
1. 응급 전화를 통해 **음성 데이터를 자동 인식**하고 요약
2. **AI 모델(BERT)**을 활용하여 응급 상황을 **등급 분류**
3. **네이버 지도 API**를 이용하여 **가장 가까운 응급실 추천**
4. **비즈니스 평가 지표 기반 성능 검증** 및 시스템 최적화

---

## 🛠 사용 기술

### **📌 개발 도구**
- **IDE**: Visual Studio Code, Jupyter Notebook
- **CI/CD & 컨테이너화**: Docker
- **버전 관리**: Git, GitHub

### **📌 AI 모델**
1. **Whisper** (음성 → 텍스트 변환)
   - OpenAI의 **Whisper API**를 활용한 **STT(Speech-to-Text) 모델**
   - 긴급 전화를 문자 데이터로 변환

2. **GPT-3.5 Turbo** (텍스트 요약)
   - 긴급 전화 텍스트를 요약하고 **핵심 키워드 추출**

3. **BERT (klue/bert-base)** (응급 등급 분류)
   - 한국어 자연어 처리(NLP)를 위한 사전 학습된 **BERT 모델**
   - 응급 상황을 **5단계 등급(1~5)으로 자동 분류**

4. **네이버 지도 API** (응급실 추천)
   - 응급실 위치 데이터 활용하여 **가장 가까운 응급실 추천**
   - 응급실 수용 가능 여부 확인

---

## 🏗 시스템 구성

### 📌 **전체 구조**
📌 응급 전화 수신 (음성) <br>
📌 Whisper API로 음성 → 텍스트 변환 <br>
📌 GPT-3.5를 활용하여 긴급 상황 요약 및 키워드 추출 <br>
📌 BERT 모델을 사용하여 응급 등급 (1~5) 자동 분류 <br>
📌 네이버 지도 API를 이용하여 최적의 응급실 추천 <br>
📌 병상 여유 여부 확인 후 응급실 연계 <br>
📌 최종 응급실 추천 결과 반환<br>


### 🖥 **구성 요소**
#### 1️⃣ **음성 인식 및 요약**
- **Whisper API**: 음성 데이터를 텍스트로 변환
- **GPT-3.5 Turbo**: 텍스트 요약 및 주요 키워드 추출

#### 2️⃣ **응급 상황 등급 분류**
- **BERT 모델 파인튜닝**
- **응급 등급 (1~5) 자동 분류**
- **중증 응급환자(1~2등급) 즉시 응급실 연계**

#### 3️⃣ **응급실 추천**
- **네이버 지도 API**를 활용한 거리 기반 추천
- **Haversine 공식**을 이용하여 최단 거리 응급실 탐색
- **응급실 가용 병상 여부** 확인 후 추천

#### 4️⃣ **통합 및 고도화**
- 각 단계 **모듈화 및 통합**하여 자동 응급 대응 시스템 구축
- API 엔드포인트를 만들어 서비스 배포

---

## 📂 프로젝트 구조
emergency_service_project/  <br>
├── data/ # 데이터셋 폴더 <br>
│ ├── emergency_cases.csv # 응급 상황 데이터셋 <br> 
│ ├── hospital_db.csv # 응급실 정보 데이터셋 <br>
│ ├── audio_samples/ # 응급 전화 음성 샘플 <br>
│ ├── models/ # 학습된 모델 폴더 <br>
│ ├── bert_finetuned.pt # Fine-tuned BERT 모델 <br>
│ ├── src/ # 코드 폴더 <br>
│ ├── speech_to_text.py # Whisper API 활용 STT <br>
│ ├── text_summary.py # GPT-3.5를 활용한 요약 <br>
│ ├── emergency_classifier.py# BERT 기반 응급 등급 분류 <br>
│ ├── hospital_recommend.py # 네이버 지도 API 응급실 추천 <br>
│ ├── main.py # 통합 실행 파일 <br>
│ ├── requirements.txt # 필수 라이브러리 목록 <br>
├── README.md # 프로젝트 개요 및 문서<br>


